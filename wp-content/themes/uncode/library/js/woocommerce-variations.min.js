(function($){"use strict";var Utils={get_single_variation_from_attribute:function(variation,attribute,attribute_value){if(variation)for(var attr_name in variation)if(attr_name==="attributes"&&variation.hasOwnProperty(attr_name)){var variation_attr=variation[attr_name],attribute_name="attribute_"+attribute;if(variation_attr.hasOwnProperty(attribute_name)&&variation_attr[attribute_name]===attribute_value)return variation}return!1},get_url_parameter:function(key){var url=window.location.search.substring(1),url_variables=url.split("&"),param_key,i;for(i=0;i<url_variables.length;i++){param_key=url_variables[i].split("=");if(param_key[0]===key)return param_key[1]===undefined?!0:decodeURIComponent(param_key[1])}return!1}},Single_Product={has_variation_changed:!1,doing_clear:!1,first_load:!0,variable_add_to_cart:function(){window.wc_add_to_cart_params!=undefined&&window.UncodeWCParameters!=undefined&&UncodeWCParameters.variations_ajax_add_to_cart==="1"&&$("form.variations_form").on("submit",function(e){var form=$(this),product_wrapper=form.closest(".tmb-woocommerce"),is_loop=!1;if(product_wrapper.length===0){product_wrapper=form.closest(".product-type-variable");if(product_wrapper.length===0)return}else is_loop=!0;e.preventDefault();var form_button=form.find(".single_add_to_cart_button"),form_data=form.serialize();form_data+="&action=uncode_ajax_add_to_cart",form_button.val()&&(form_data+="&add-to-cart="+form_button.val()),form_button.removeClass("added","added-error"),form_button.addClass("loading");if(is_loop){var loop_button=product_wrapper.find(".add_to_cart_button").not(":button");loop_button.removeClass("added","added-error"),loop_button.addClass("loading")}$.ajax({url:wc_add_to_cart_params.ajax_url,data:form_data,method:"POST",success:function(response){if(!response)return;if(UncodeWCParameters.redirect_after_add==="1")window.location=UncodeWCParameters.cart_url;else{form_button.removeClass("loading"),is_loop&&loop_button.removeClass("loading"),fragments&&$.each(fragments,function(key){$(key).addClass("updating")}),fragments&&$.each(fragments,function(key,value){$(key).replaceWith(value)});var fragments=response.fragments,cart_hash=response.cart_hash,notices_wrapper=$(".woocommerce-notices-wrapper");notices_wrapper.length>0&&notices_wrapper.empty(),response.notices.indexOf("error")>0?(notices_wrapper.length>0&&notices_wrapper.append(response.notices),form_button.addClass("added-error"),is_loop&&loop_button.addClass("added-error")):(form_button.addClass("added"),is_loop&&loop_button.addClass("added"),$(document.body).trigger("added_to_cart",[fragments,cart_hash,form_button]))}},error:function(){SiteParameters.enable_debug==1&&console.log("There was an error when adding the product to the cart")}})})},update_variation_gallery:function(event,variation,form,gallery_params,clear){if(clear&&!Single_Product.has_variation_changed){var form=$(event.target);$(".product-gallery-placeholder").removeClass("product-gallery-placeholder"),$(window).trigger("uncode_wc_variation_gallery_loaded"),form.removeClass("is-updating-gallery");return}if(clear&&Single_Product.doing_clear){form.removeClass("is-updating-gallery");return}clear&&(Single_Product.doing_clear=!0),clear||(Single_Product.doing_clear=!1);var quick_view_container=form.closest(".quick-view-container"),old_gallery=quick_view_container.length>0?quick_view_container.find(".uncode-single-product-gallery"):$(".uncode-single-product-gallery");old_gallery.addClass("product-gallery-placeholder");var product_id=form.attr("data-product_id"),parent_gallery=old_gallery.parent();$.ajax({url:UncodeWCParameters.ajax_url,data:{action:"uncode_get_variation_gallery",variation:typeof variation!="undefined"?variation:0,product_id:product_id,clear:clear,gallery_params:gallery_params,is_quick_view:quick_view_container.length>0?!0:!1},type:"post",success:function(response){if(!response){form.removeClass("is-updating-gallery");return}if(response.data&&response.data.html){var new_gallery=$(response.data.html);if(new_gallery.length>0){new_gallery.addClass("hidden"),parent_gallery.append(new_gallery);var appended_gallery=parent_gallery.find(".uncode-single-product-gallery");appended_gallery.imagesLoaded().done(function(instance){var main_gallery=appended_gallery.find(".woocommerce-product-gallery");appended_gallery.removeClass("hidden"),$(".product-gallery-placeholder").removeClass("product-gallery-placeholder"),$(window).trigger("uncode_wc_variation_gallery_loaded"),old_gallery.remove(),typeof UNCODE_WC.product_gallery!="undefined"&&(UNCODE_WC.product_gallery(main_gallery),main_gallery.css("opacity","1")),typeof UNCODE.adaptive!="undefined"&&UNCODE.adaptive(),typeof UNCODE.lightbox!="undefined"&&!SiteParameters.lbox_enhanced?UNCODE.lightbox():typeof UNCODE.lightgallery!="undefined"&&SiteParameters.lbox_enhanced&&UNCODE.lightgallery(),form.removeClass("is-updating-gallery")})}else form.removeClass("is-updating-gallery");Single_Product.has_variation_changed=!0,UNCODE.stickyElements()}},error:function(){form.removeClass("is-updating-gallery"),SiteParameters.enable_debug==1&&console.log("There was an error retrieving the variation gallery")}})},variation_gallery:function(){$("body").hasClass("uncode-default-product-gallery")||$("form.variations_form").each(function(){var form=$(this),product_div=form.closest("div.woocommerce-product-gallery--with-variation-gallery");if(product_div.length>0){var original_values=form.find("select").serialize(),gallery_params=product_div.find(".woocommerce-product-gallery.images").data("gallery-options"),default_images=gallery_params.default_images,original_images=default_images;form.on("found_variation.wc-variation-form",function(event,variation){if(!form.hasClass("is-updating-gallery")){form.addClass("is-updating-gallery");var new_values=form.find("select").serialize(),new_images=[];variation.image_id&&new_images.push(variation.image_id);if(variation.variation_gallery)for(var variation_gallery_id in variation.variation_gallery)new_images.push(variation.variation_gallery[variation_gallery_id]);var has_new_images=Single_Product.has_new_images(original_images,new_images);new_values!=original_values||Single_Product.first_load?(original_values=new_values,Single_Product.first_load=!1,has_new_images?(Single_Product.update_variation_gallery(event,variation,form,gallery_params,!1),original_images=new_images):($(".product-gallery-placeholder").removeClass("product-gallery-placeholder"),$(window).trigger("uncode_wc_variation_gallery_loaded"),form.removeClass("is-updating-gallery"))):form.removeClass("is-updating-gallery")}}).on("reset_image",function(event,variation){Single_Product.update_variation_gallery(event,variation,form,gallery_params,!0),original_images=default_images})}})},has_new_images:function(original_images,new_images){if(!original_images instanceof Array)return!0;if(!new_images instanceof Array)return!0;if(original_images.length!==new_images.length)return!0;for(var i=0;i<original_images.length;i++)if(new_images.indexOf(original_images[i])<0)return!0;return!1}},Loop_Variations={init_forms:function(){$("form.variations_form").each(function(){var form=$(this),tmb_wrapper=form.closest(".tmb-woocommerce");if(tmb_wrapper.length===0)return;var form_button=form.find(".single_add_to_cart_button"),button_to_connect=tmb_wrapper.find(".add_to_cart_button").not(":button");button_to_connect.on("click",function(e){e.preventDefault(),form_button.trigger("click")});var product_img=tmb_wrapper.find("img[class*=wp-image], .uncode-picture-image").last(),picture_el=product_img.closest("picture"),source_el=picture_el.find("source"),bg_el=tmb_wrapper.find("div.t-background-cover").last(),prices=tmb_wrapper.find("span.price");prices=prices.filter(function(){return $(this).closest(".t-entry-variations").length>0?!1:!0});var original_price=prices.last().clone(),original_price_value=original_price.children(),stock=tmb_wrapper.find(".t-entry-stock"),original_stock=stock.clone(),original_stock_value=original_stock.children(),title=tmb_wrapper.find(".t-entry-title"),original_title=title.clone(),original_title_value=original_title.html(),url=tmb_wrapper.find(".t-entry-visual-cont > a").attr("href");form.on("hide_variation",function(){button_to_connect.find(".add_to_cart_text").html(UncodeWCParameters.i18n_variation_add_to_cart_text),Loop_Variations.reset_variation_price(prices,original_price_value),Loop_Variations.reset_variation_stock(stock,original_stock_value),Loop_Variations.reset_variation_title(title,original_title_value),Loop_Variations.reset_product_urls(tmb_wrapper,url)}).on("show_variation",function(event,variation,purchasable){purchasable?button_to_connect.find(".add_to_cart_text").html(UncodeWCParameters.i18n_add_to_cart_text):button_to_connect.find(".add_to_cart_text").html(UncodeWCParameters.i18n_variation_add_to_cart_text),Loop_Variations.update_variation_price(prices,original_price_value,variation),Loop_Variations.update_variation_stock(stock,original_stock_value,variation),Loop_Variations.update_variation_title(title,original_title_value,variation),Loop_Variations.update_product_urls(tmb_wrapper,variation)}).on("found_variation.wc-variation-form",function(event,variation){Loop_Variations.update_variation_image(product_img,bg_el,picture_el,source_el,variation)}).on("reset_image",function(event,variation){Loop_Variations.update_variation_image(product_img,bg_el,picture_el,source_el,!1)})})},init_single_attributes:function(){$(".single-attribute-selector").each(function(){var selector=$(this),tmb_wrapper=selector.closest(".tmb-woocommerce"),selector_type="";if(tmb_wrapper.length===0)return;var select_attr=selector.find("select");if(select_attr.length>0){var selected_attr=select_attr.val();selector_type="select"}else{var swatches=selector.find(".swatch"),active_swatch=selector.find(".swatch--active");swatches.length>0&&(selector_type="swatch")}var product_img=tmb_wrapper.find("img[class*=wp-image], .uncode-picture-image").last(),picture_el=product_img.closest("picture"),source_el=picture_el.find("source"),bg_el=tmb_wrapper.find("div.t-background-cover").last(),prices=tmb_wrapper.find("span.price");prices=prices.filter(function(){return $(this).closest(".t-entry-variations").length>0?!1:!0});var original_price=prices.last().clone(),original_price_value=original_price.children(),stock=tmb_wrapper.find(".t-entry-stock"),original_stock=stock.clone(),original_stock_value=original_stock.children(),title=tmb_wrapper.find(".t-entry-title"),original_title=title.clone(),original_title_value=original_title.html(),url=tmb_wrapper.find(".t-entry-visual-cont > a").attr("href");SiteParameters.dynamic_srcset_active==="1"?picture_el.length>0?picture_el.on("srcset-done",function(){picture_el.hasClass("adaptive-fixed")||(selector_type==="select"&&selected_attr?Loop_Variations.init_single_select_variation(tmb_wrapper,select_attr,selected_attr,product_img,bg_el,picture_el,source_el,prices,original_price_value,stock,original_stock_value,title,original_title_value,url):selector_type==="swatch"&&active_swatch.length>0&&Loop_Variations.init_single_swatch_variation(tmb_wrapper,selector,active_swatch,product_img,bg_el,picture_el,source_el,prices,original_price_value,stock,original_stock_value,title,original_title_value,url),picture_el.addClass("adaptive-fixed"))}):product_img.on("srcset-done",function(){product_img.hasClass("adaptive-fixed")||(selector_type==="select"&&selected_attr?Loop_Variations.init_single_select_variation(tmb_wrapper,select_attr,selected_attr,product_img,bg_el,picture_el,source_el,prices,original_price_value,stock,original_stock_value,title,original_title_value,url):selector_type==="swatch"&&active_swatch.length>0&&Loop_Variations.init_single_swatch_variation(tmb_wrapper,selector,active_swatch,product_img,bg_el,picture_el,source_el,prices,original_price_value,stock,original_stock_value,title,original_title_value,url),product_img.addClass("adaptive-fixed"))}):SiteParameters.uncode_adaptive_async==="1"?bg_el.length>0?bg_el.on("async-done",function(){bg_el.hasClass("adaptive-fixed")||(selector_type==="select"&&selected_attr?Loop_Variations.init_single_select_variation(tmb_wrapper,select_attr,selected_attr,product_img,bg_el,picture_el,source_el,prices,original_price_value,stock,original_stock_value,title,original_title_value,url):selector_type==="swatch"&&active_swatch.length>0&&Loop_Variations.init_single_swatch_variation(tmb_wrapper,selector,active_swatch,product_img,bg_el,picture_el,source_el,prices,original_price_value,stock,original_stock_value,title,original_title_value,url),bg_el.addClass("adaptive-fixed"))}):product_img.length>0&&product_img.on("async-done",function(){product_img.hasClass("adaptive-fixed")||(selector_type==="select"&&selected_attr?Loop_Variations.init_single_select_variation(tmb_wrapper,select_attr,selected_attr,product_img,bg_el,picture_el,source_el,prices,original_price_value,stock,original_stock_value,title,original_title_value,url):selector_type==="swatch"&&active_swatch.length>0&&Loop_Variations.init_single_swatch_variation(tmb_wrapper,selector,active_swatch,product_img,bg_el,picture_el,source_el,prices,original_price_value,stock,original_stock_value,title,original_title_value,url),product_img.addClass("adaptive-fixed"))}):selector_type==="select"&&selected_attr?Loop_Variations.init_single_select_variation(tmb_wrapper,select_attr,selected_attr,product_img,bg_el,picture_el,source_el,prices,original_price_value,stock,original_stock_value,title,original_title_value,url):selector_type==="swatch"&&active_swatch.length>0&&Loop_Variations.init_single_swatch_variation(tmb_wrapper,selector,active_swatch,product_img,bg_el,picture_el,source_el,prices,original_price_value,stock,original_stock_value,title,original_title_value,url),selector_type==="select"&&select_attr.on("change",function(){var selected_attr=$(this).val();Loop_Variations.init_single_select_variation(tmb_wrapper,select_attr,selected_attr,product_img,bg_el,picture_el,source_el,prices,original_price_value,stock,original_stock_value,title,original_title_value,url)}),selector_type==="swatch"&&(!selector.hasClass("single-attribute-selector--hover")||"ontouchstart"in window?swatches.on("click",function(){var active_swatch=$(this);Loop_Variations.set_single_swatch_variation(tmb_wrapper,swatches,selector,active_swatch,product_img,bg_el,picture_el,source_el,prices,original_price_value,stock,original_stock_value,title,original_title_value,url)}):swatches.on("mouseenter",function(){var active_swatch=$(this);Loop_Variations.set_single_swatch_variation(tmb_wrapper,swatches,selector,active_swatch,product_img,bg_el,picture_el,source_el,prices,original_price_value,stock,original_stock_value,title,original_title_value,url)}).on("click",function(e,from){if(undefined===from||from!=="select_active_attributes")window.location=$(this).attr("data-variation-link")}))})},init_single_select_variation:function(wrapper,select,selected_attr,product_img,bg_el,picture_el,source_el,prices,original_price_value,stock,original_stock_value,title,original_title_value,original_url){var option=select.find("option[value='"+selected_attr+"']"),variation=option.data("variation"),attribute=select.attr("id"),found_variation=Utils.get_single_variation_from_attribute(variation,attribute,selected_attr);found_variation?(Loop_Variations.update_variation_image(product_img,bg_el,picture_el,source_el,found_variation),Loop_Variations.update_variation_price(prices,original_price_value,found_variation),Loop_Variations.update_variation_stock(stock,original_stock_value,found_variation),Loop_Variations.update_variation_title(title,original_title_value,found_variation),Loop_Variations.update_product_urls(wrapper,found_variation)):(Loop_Variations.update_variation_image(product_img,bg_el,picture_el,source_el,!1),Loop_Variations.reset_variation_price(prices,original_price_value),Loop_Variations.reset_variation_stock(stock,original_stock_value),Loop_Variations.reset_variation_title(title,original_title_value),Loop_Variations.reset_product_urls(wrapper,original_url))},init_single_swatch_variation:function(wrapper,selector,active_swatch,product_img,bg_el,picture_el,source_el,prices,original_price_value,stock,original_stock_value,title,original_title_value,original_url){var variation=active_swatch.data("variation"),attribute=selector.find(".swatches-select").data("swatch-id"),attribute_value=active_swatch.data("swatch-value"),found_variation=Utils.get_single_variation_from_attribute(variation,attribute,attribute_value);found_variation?(Loop_Variations.update_variation_image(product_img,bg_el,picture_el,source_el,found_variation),Loop_Variations.update_variation_price(prices,original_price_value,found_variation),Loop_Variations.update_variation_stock(stock,original_stock_value,found_variation),Loop_Variations.update_variation_title(title,original_title_value,found_variation),Loop_Variations.update_product_urls(wrapper,found_variation)):(Loop_Variations.update_variation_image(product_img,bg_el,picture_el,source_el,!1),Loop_Variations.reset_variation_price(prices,original_price_value),Loop_Variations.reset_variation_stock(stock,original_stock_value),Loop_Variations.reset_variation_title(title,original_title_value),Loop_Variations.reset_product_urls(wrapper,original_url))},set_single_swatch_variation:function(wrapper,swatches,selector,active_swatch,product_img,bg_el,picture_el,source_el,prices,original_price_value,stock,original_stock_value,title,original_title_value,original_url){swatches.removeClass("swatch--active"),active_swatch.addClass("swatch--active"),Loop_Variations.init_single_swatch_variation(wrapper,selector,active_swatch,product_img,bg_el,picture_el,source_el,prices,original_price_value,stock,original_stock_value,title,original_title_value,original_url)},update_variation_price:function(prices,original_price,variation){var new_price=variation&&variation.price_html&&prices.length>0?$(variation.price_html).children():original_price;prices.html(new_price)},reset_variation_price:function(prices,original_price){prices.html(original_price)},update_variation_stock:function(stock,original_stock,variation){var new_stock=variation&&variation.availability_html&&stock.length>0?$(variation.availability_html):original_stock;new_stock.hasClass("in-stock")?stock.addClass("t-entry-stock--in-stock"):stock.removeClass("t-entry-stock--in-stock"),stock.html(new_stock)},reset_variation_stock:function(stock,original_stock){original_stock.hasClass("in-stock")?stock.addClass("t-entry-stock--in-stock"):stock.removeClass("t-entry-stock--in-stock"),stock.html(original_stock)},update_variation_title:function(title,original_title,variation){if(title.length>0&&title.closest(".tmb").find(".t-entry-variations").hasClass("single-attribute-selector--dynamic-title")){var new_title=variation&&variation.variation_name&&title.length>0?variation.variation_name:original_title,price=title.find(".price");title.text(new_title),price.length>0&&title.append(price)}},reset_variation_title:function(title,original_title){title.length>0&&title.closest(".tmb").find(".t-entry-variations").hasClass("single-attribute-selector--dynamic-title")&&title.html(original_title)},update_product_urls:function(wrapper,variation){if(variation.variation_selected_url){var links=wrapper.find("a").not(".t-entry-category a").not(".t-entry-attribute-image__link"),quick_view_button=wrapper.find(".quick-view-button");links.attr("href",variation.variation_selected_url),quick_view_button.attr("data-post-url",variation.variation_selected_url)}},reset_product_urls:function(wrapper,original_url){var links=wrapper.find("a").not(".t-entry-category a").not(".t-entry-attribute-image__link"),quick_view_button=wrapper.find(".quick-view-button");links.attr("href",original_url),quick_view_button.attr("data-post-url",original_url)},update_variation_image:function(img,bg,picture,source,variation){var is_bg=bg.length>0?!0:!1,is_picture=picture.length>0?!0:!1,variations_imgs="";is_bg?variations_imgs=bg.data("product_variations"):is_picture?variations_imgs=picture.data("product_variations"):variations_imgs=img.data("product_variations");if(variations_imgs&&variation&&variation.image_id&&variation.image)for(var variations_img_key in variations_imgs){var variations_img=variations_imgs[variations_img_key];parseInt(variations_img_key,10)===variation.image_id&&(is_bg?Loop_Variations.update_bg_attributes(bg,variations_img,variation):is_picture?Loop_Variations.update_picture_attributes(img,picture,source,variations_img,variation):Loop_Variations.update_img_attributes(img,variations_img,variation))}else is_bg?Loop_Variations.reset_variation_bg(bg):is_picture?Loop_Variations.reset_variation_picture(img,picture,source):Loop_Variations.reset_variation_img(img)},set_variation_attr:function(el,attr,value){undefined===el.attr("data-o_"+attr)&&el.attr("data-o_"+attr,el.attr(attr)?el.attr(attr):""),!1===value?el.removeAttr(attr):el.attr(attr,value)},reset_variation_attr:function(el,attr,value){undefined!==el.attr("data-o_"+attr)&&el.attr(attr,el.attr("data-o_"+attr))},update_img_attributes:function(img,variations_img,variation){SiteParameters.dynamic_srcset_active==="1"?(img.removeClass("srcset-sizes-done"),img.addClass("srcset-async")):SiteParameters.uncode_adaptive_async==="1"&&(img.removeClass("async-done"),img.removeClass("adaptive-fetching"),img.addClass("adaptive-async")),Loop_Variations.set_variation_attr(img,"src",variations_img.src),Loop_Variations.set_variation_attr(img,"alt",variation.image.alt),Loop_Variations.set_variation_attr(img,"width",variations_img.width),Loop_Variations.set_variation_attr(img,"height",variations_img.height),Loop_Variations.set_variation_attr(img,"srcset",variations_img.srcset),Loop_Variations.set_variation_attr(img,"data-uniqueid",variations_img.uniqueid),Loop_Variations.set_variation_attr(img,"data-guid",variations_img.guid),Loop_Variations.set_variation_attr(img,"data-path",variations_img.path),Loop_Variations.set_variation_attr(img,"data-no-bp",variations_img.no_bp),Loop_Variations.set_variation_attr(img,"data-bp",variations_img.bp),Loop_Variations.set_variation_attr(img,"data-width",variations_img.orig_w),Loop_Variations.set_variation_attr(img,"data-height",variations_img.orig_h),Loop_Variations.set_variation_attr(img,"data-singlew",variations_img.singlew),Loop_Variations.set_variation_attr(img,"data-singleh",variations_img.singleh),SiteParameters.dynamic_srcset_active==="1"?UNCODE.adaptive_srcset(img.closest(".tmb")):SiteParameters.uncode_adaptive_async==="1"&&UNCODE.adaptive()},reset_variation_img:function(img){Loop_Variations.reset_variation_attr(img,"src"),Loop_Variations.reset_variation_attr(img,"srcset"),Loop_Variations.reset_variation_attr(img,"alt"),Loop_Variations.reset_variation_attr(img,"width"),Loop_Variations.reset_variation_attr(img,"height"),Loop_Variations.reset_variation_attr(img,"data-uniqueid"),Loop_Variations.reset_variation_attr(img,"data-guid"),Loop_Variations.reset_variation_attr(img,"data-path"),Loop_Variations.reset_variation_attr(img,"data-no-bp"),Loop_Variations.reset_variation_attr(img,"data-bp"),Loop_Variations.reset_variation_attr(img,"data-width"),Loop_Variations.reset_variation_attr(img,"data-height"),Loop_Variations.reset_variation_attr(img,"data-singlew"),Loop_Variations.reset_variation_attr(img,"data-singleh")},update_picture_attributes:function(img,picture,source,variations_img,variation){SiteParameters.dynamic_srcset_active==="1"&&(picture.addClass("srcset-async"),source.removeClass("srcset-sizes-done")),Loop_Variations.set_variation_attr(img,"src",variations_img.src),Loop_Variations.set_variation_attr(source,"srcset",variations_img.srcset),Loop_Variations.set_variation_attr(img,"alt",variation.image.alt),Loop_Variations.set_variation_attr(img,"width",variations_img.width),Loop_Variations.set_variation_attr(img,"height",variations_img.height),Loop_Variations.set_variation_attr(picture,"data-uniqueid",variations_img.uniqueid),Loop_Variations.set_variation_attr(picture,"data-guid",variations_img.guid),Loop_Variations.set_variation_attr(picture,"data-path",variations_img.path),Loop_Variations.set_variation_attr(picture,"data-no-bp",variations_img.no_bp),Loop_Variations.set_variation_attr(picture,"data-bp",variations_img.bp),Loop_Variations.set_variation_attr(picture,"data-width",variations_img.orig_w),Loop_Variations.set_variation_attr(picture,"data-height",variations_img.orig_h),SiteParameters.dynamic_srcset_active==="1"&&UNCODE.adaptive_srcset(img.closest(".tmb"))},reset_variation_picture:function(img,picture,source){Loop_Variations.reset_variation_attr(img,"src"),Loop_Variations.reset_variation_attr(source,"srcset"),Loop_Variations.reset_variation_attr(img,"alt"),Loop_Variations.reset_variation_attr(img,"width"),Loop_Variations.reset_variation_attr(img,"height"),Loop_Variations.reset_variation_attr(picture,"data-uniqueid"),Loop_Variations.reset_variation_attr(picture,"data-guid"),Loop_Variations.reset_variation_attr(picture,"data-path"),Loop_Variations.reset_variation_attr(picture,"data-no-bp"),Loop_Variations.reset_variation_attr(picture,"data-bp"),Loop_Variations.reset_variation_attr(picture,"data-width"),Loop_Variations.reset_variation_attr(picture,"data-height")},update_bg_attributes:function(bg,variations_img,variation){SiteParameters.uncode_adaptive_async==="1"&&(bg.removeClass("async-done"),bg.addClass("adaptive-async"));var new_style="background-image:url('"+variations_img.src+"')";Loop_Variations.set_variation_attr(bg,"style",new_style),Loop_Variations.set_variation_attr(bg,"data-uniqueid",variations_img.uniqueid),Loop_Variations.set_variation_attr(bg,"data-guid",variations_img.guid),Loop_Variations.set_variation_attr(bg,"data-path",variations_img.path),Loop_Variations.set_variation_attr(bg,"data-width",variations_img["data-width"]),Loop_Variations.set_variation_attr(bg,"data-height",variations_img["data-height"]),Loop_Variations.set_variation_attr(bg,"data-singlew",variations_img.singlew),Loop_Variations.set_variation_attr(bg,"data-singleh",variations_img.singleh),SiteParameters.uncode_adaptive_async==="1"&&UNCODE.adaptive()},reset_variation_bg:function(bg){Loop_Variations.reset_variation_attr(bg,"style"),Loop_Variations.reset_variation_attr(bg,"data-uniqueid"),Loop_Variations.reset_variation_attr(bg,"data-guid"),Loop_Variations.reset_variation_attr(bg,"data-path"),Loop_Variations.reset_variation_attr(bg,"data-width"),Loop_Variations.reset_variation_attr(bg,"data-height"),Loop_Variations.reset_variation_attr(bg,"data-singlew"),Loop_Variations.reset_variation_attr(bg,"data-singleh")},select_active_attributes:function(){$(".single-attribute-selector").each(function(){var selector=$(this),tmb_wrapper=selector.closest(".tmb-woocommerce"),selector_type="";if(tmb_wrapper.length===0)return;var select_attr=selector.find("select");if(select_attr.length>0){var selected_attr=select_attr.val();selector_type="select"}else{var swatches=selector.find(".swatch"),active_swatch=selector.find(".swatch--active");swatches.length>0&&(selector_type="swatch")}if(selector_type==="select"){var attribute=select_attr.attr("data-attribute_name"),filter_attribute_key=UncodeWCParameters.pa_filter_prefix+attribute.replace("attribute_pa_",""),selected_atts=Utils.get_url_parameter(filter_attribute_key);if(typeof selected_atts=="string"){var selected_atts_arr=selected_atts.split(","),selected_att=!1;selected_atts_arr&&(selected_att=selected_atts_arr[selected_atts_arr.length-1]),selected_att&&select_attr.find("option").each(function(){var _this=$(this),_val=_this.val();if(_val===selected_att)return select_attr.val(_val).trigger("change"),!1})}}if(selector_type==="swatch"){var attribute=selector.find(".swatches-select").attr("data-swatch-id"),filter_attribute_key=UncodeWCParameters.pa_filter_prefix+attribute.replace("pa_",""),selected_atts=Utils.get_url_parameter(filter_attribute_key);if(typeof selected_atts=="string"){var selected_atts_arr=selected_atts.split(","),selected_att=!1;selected_atts_arr&&(selected_att=selected_atts_arr[selected_atts_arr.length-1]),selected_att&&swatches.each(function(){var _this=$(this);if(_this.attr("data-swatch-value")===selected_att)return!selector.hasClass("single-attribute-selector--hover")||"ontouchstart"in window?_this.trigger("click","select_active_attributes"):_this.trigger("mouseenter","select_active_attributes"),!1})}}})}};$(document).ready(function(){Single_Product.variable_add_to_cart(),Single_Product.variation_gallery(),Loop_Variations.init_forms(),Loop_Variations.init_single_attributes(),Loop_Variations.select_active_attributes()}),$(document).on("uncode-quick-view-loaded",function(){Single_Product.has_variation_changed=!1,Single_Product.doing_clear=!1,Single_Product.first_load=!0,Single_Product.variable_add_to_cart(),Single_Product.variation_gallery(),Loop_Variations.init_forms(),Loop_Variations.init_single_attributes()}),$(document).on("uncode-ajax-filtered more-items-loaded",function(){Loop_Variations.init_forms(),Loop_Variations.init_single_attributes(),Loop_Variations.select_active_attributes()})})(jQuery)