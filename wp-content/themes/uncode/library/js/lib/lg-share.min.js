(function(global,factory){typeof exports=="object"&&typeof module!="undefined"?module.exports=factory():typeof define=="function"&&define.amd?define(factory):(global=typeof globalThis!="undefined"?globalThis:global||self,global.lgShare=factory())})(this,function(){"use strict";function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}function getFacebookShareLink(galleryItem){var facebookBaseUrl="//www.facebook.com/sharer/sharer.php?u=";return facebookBaseUrl+encodeURIComponent(galleryItem.facebookShareUrl||window.location.href)}function getTwitterShareLink(galleryItem){var twitterBaseUrl="//twitter.com/intent/tweet?text=",url=encodeURIComponent(galleryItem.twitterShareUrl||window.location.href),text=galleryItem.tweetText;return twitterBaseUrl+text+"&url="+url}function getPinterestShareLink(galleryItem){var pinterestBaseUrl="http://www.pinterest.com/pin/create/button/?url=",description=galleryItem.pinterestText,media=encodeURIComponent(galleryItem.src),url=encodeURIComponent(galleryItem.pinterestShareUrl||window.location.href);return pinterestBaseUrl+url+"&media="+media+"&description="+description}var __assign=function(){return __assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},shareSettings={share:!0,facebook:!0,facebookDropdownText:"Facebook",twitter:!0,twitterDropdownText:"Twitter",pinterest:!0,pinterestDropdownText:"Pinterest",additionalShareOptions:[],sharePluginStrings:{share:"Share"}},lGEvents={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose",rotateLeft:"lgRotateLeft",rotateRight:"lgRotateRight",flipHorizontal:"lgFlipHorizontal",flipVertical:"lgFlipVertical",autoplay:"lgAutoplay",autoplayStart:"lgAutoplayStart",autoplayStop:"lgAutoplayStop"},Share=function(){function Share(instance){return this.shareOptions=[],this.core=instance,this.settings=__assign(__assign({},shareSettings),this.core.settings),this}return Share.prototype.init=function(){if(!this.settings.share)return;this.shareOptions=__spreadArrays(this.getDefaultShareOptions(),this.settings.additionalShareOptions),this.setLgShareMarkup(),this.core.outer.find(".lg-share .lg-dropdown").append(this.getShareListHtml()),this.core.LGel.on(lGEvents.afterSlide+".share",this.onAfterSlide.bind(this))},Share.prototype.getShareListHtml=function(){var shareHtml="";return this.shareOptions.forEach(function(shareOption){shareHtml+=shareOption.dropdownHTML}),shareHtml},Share.prototype.setLgShareMarkup=function(){var _this=this;this.core.$toolbar.append('<button type="button" aria-label="'+this.settings.sharePluginStrings.share+'" aria-haspopup="true" aria-expanded="false" class="lg-share lg-icon">\n                <ul class="lg-dropdown" style="position: absolute;"></ul></button>'),this.core.outer.append('<div class="lg-dropdown-overlay"></div>');var $shareButton=this.core.outer.find(".lg-share");$shareButton.first().on("click.lg",function(){_this.core.outer.toggleClass("lg-dropdown-active"),_this.core.outer.hasClass("lg-dropdown-active")?_this.core.outer.attr("aria-expanded",!0):_this.core.outer.attr("aria-expanded",!1)}),this.core.outer.find(".lg-dropdown-overlay").first().on("click.lg",function(){_this.core.outer.removeClass("lg-dropdown-active"),_this.core.outer.attr("aria-expanded",!1)})},Share.prototype.onAfterSlide=function(event){var _this=this,index=event.detail.index,currentItem=this.core.galleryItems[index];setTimeout(function(){_this.shareOptions.forEach(function(shareOption){var selector=shareOption.selector;_this.core.outer.find(selector).attr("href",shareOption.generateLink(currentItem))})},100)},Share.prototype.getShareListItemHTML=function(type,text){return'<li><a class="lg-share-'+type+'" rel="noopener" target="_blank"><span class="lg-icon"></span><span class="lg-dropdown-text">'+text+"</span></a></li>"},Share.prototype.getDefaultShareOptions=function(){return __spreadArrays(this.settings.facebook?[{type:"facebook",generateLink:getFacebookShareLink,dropdownHTML:this.getShareListItemHTML("facebook",this.settings.facebookDropdownText),selector:".lg-share-facebook"}]:[],this.settings.twitter?[{type:"twitter",generateLink:getTwitterShareLink,dropdownHTML:this.getShareListItemHTML("twitter",this.settings.twitterDropdownText),selector:".lg-share-twitter"}]:[],this.settings.pinterest?[{type:"pinterest",generateLink:getPinterestShareLink,dropdownHTML:this.getShareListItemHTML("pinterest",this.settings.pinterestDropdownText),selector:".lg-share-pinterest"}]:[])},Share.prototype.destroy=function(){this.core.outer.find(".lg-dropdown-overlay").remove(),this.core.outer.find(".lg-share").remove(),this.core.LGel.off(".lg.share"),this.core.LGel.off(".share")},Share}();return Share})