(function($){"use strict";UNCODE.thumbsReveal=function(){var revealThumbs=function($el){if(typeof $el=="undefined"||$el===null||!$el.length)$el=$("body");$(".grid-wrapper, .custom-grid-container, .single-wrapper, .owl-carousel-wrapper, .linear-wrapper",$el).has(".tmb-mask").each(function(){var $container=$(this),$stickys=$(".tmb-mask:not(.tmb-mask-init)",$container),isContainer=!1;(!$("body").hasClass("compose-mode")||typeof window.parent.vc=="undefined")&&$stickys.each(function(){var $sticky=$(this).addClass("tmb-mask-init"),$inside=$(".t-inside",$sticky),$media=$("img, video, .fluid-object",$sticky),val=parseFloat($inside.attr("data-scroll-val"));val=isNaN(val)||val==null||val==0||typeof val=="undefined"?5:val;if($sticky.hasClass("tmb-mask-scroll")){var zoom=$sticky.hasClass("tmb-mask-scroll-zoom")||$sticky.hasClass("tmb-mask-scroll-both")?val*.05:0,parax=$sticky.hasClass("tmb-mask-scroll-parallax")||$sticky.hasClass("tmb-mask-scroll-both")?val*4:0,extra=$sticky.hasClass("tmb-mask-scroll-parallax")||$sticky.hasClass("tmb-mask-scroll-both")?parax*.01:0,tl=gsap.timeline({scrollTrigger:{trigger:$sticky,scrub:!0}});tl.fromTo($media,{yPercent:-parax,scale:1+zoom+extra},{yPercent:parax,scale:1+extra,ease:"none"})}});if($container.has(".tmb-mask-reveal")){var $markTrigger=".tmb-mask-reveal .t-entry-visual",staggerTime=.1;$(".t-inside",$container).each(function(){var checkEasing=$(this).attr("data-easing");if(checkEasing===""||checkEasing==null||typeof checkEasing=="undefined")return gsap.registerPlugin(CustomEase),!1}),$container.hasClass("cssgrid-system")&&!$container.hasClass("cssgrid-animate-sequential")&&($markTrigger=$container,isContainer=!0,staggerTime=0),ScrollTrigger.batch($markTrigger,{start:function(el){return"top 96%"},onEnter:function(batch){var $inside=$(batch).closest(".t-inside");if(isContainer)var $inside=$(batch).find(".t-inside").first();var delay=parseFloat($inside.attr("data-delay")),speed=parseFloat($inside.attr("data-speed")),easing=$inside.attr("data-easing"),bgDelay=parseFloat($inside.attr("data-bg-delay"));delay=isNaN(delay)||delay==null||typeof delay=="undefined"?0:delay/1e3,speed=isNaN(speed)||speed==null||typeof speed=="undefined"?.4:speed/1e3,easing=easing===""||easing==null||typeof easing=="undefined"?CustomEase.create("custom","0.76, 0, 0.24, 1"):easing,bgDelay=isNaN(bgDelay)||bgDelay==null||typeof bgDelay=="undefined"?"":bgDelay,$(batch).closest(".tmb-has-hex").length&&bgDelay!==""?(gsap.to($(".t-entry-visual-tc",batch),speed,{clipPath:"inset(0% 0% 0% 0%)",stagger:staggerTime,delay:delay,ease:easing}),gsap.to($(".t-entry-visual-cont, .uncode-single-media-wrapper",batch),speed,{clipPath:"inset(0% 0% 0% 0%)",stagger:staggerTime,scale:1,delay:delay+speed*bgDelay,ease:easing})):gsap.to($(".t-entry-visual-cont, .uncode-single-media-wrapper",batch),speed,{clipPath:"inset(0% 0% 0% 0%)",stagger:staggerTime,scale:1,delay:delay,ease:easing})}})}})};$(window).on("load more-items-loaded",function(){revealThumbs()}),$("body").hasClass("compose-mode")&&typeof window.parent.vc!="undefined"&&window.parent.vc.events.on("shortcodeView:updated shortcodeView:ready",function(model){var $el=model.view.$el,shortcode=model.attributes.shortcode;$el.is(".custom-grid-container")&&($el=$el.parent()),(shortcode==="uncode_index"||shortcode==="vc_gallery"||shortcode==="vc_single_image")&&revealThumbs($el)})}})(jQuery)